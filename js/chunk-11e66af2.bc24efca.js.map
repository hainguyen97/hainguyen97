{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/icons/icon.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-options.js","webpack:///./node_modules/bootstrap-vue/esm/components/form/form.js","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?f6f1","webpack:///./src/@core/components/toastification/ToastificationContent.vue?aa59","webpack:///src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?270b","webpack:///./src/@core/components/toastification/ToastificationContent.vue","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox-group.js","webpack:///./src/@core/comp-functions/forms/form-validation.js","webpack:///./node_modules/bootstrap-vue/esm/components/image/img.js","webpack:///./src/views/apps/calendar/Calendar.vue?3b26","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./src/assets/images/pages/calendar-illustration.png","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/apps/calendar/Calendar.vue?247a","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./src/views/apps/calendar/calendarStoreModule.js","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue?d3e6","webpack:///./src/views/apps/calendar/calendar-sidebar/useCalendarSidebar.js","webpack:///src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue?0e59","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?7c48","webpack:///./src/views/apps/calendar/calendar-event-handler/useCalendarEventHandler.js","webpack:///src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?8606","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./src/views/apps/calendar/useCalendar.js","webpack:///src/views/apps/calendar/Calendar.vue","webpack:///./src/views/apps/calendar/Calendar.vue?a6bb","webpack:///./src/views/apps/calendar/Calendar.vue","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-custom.js","webpack:///./src/@core/components/toastification/ToastificationContent.vue?2b89","webpack:///./node_modules/bootstrap-vue/esm/components/sidebar/sidebar.js","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox.js","webpack:///./node_modules/bootstrap-vue/esm/utils/loose-index-of.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check.js","webpack:///./node_modules/bootstrap-vue/esm/components/avatar/avatar.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check-group.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","findIconComponent","ctx","iconName","components","$options","iconComponent","$parent","props","icon","stacked","BIcon","extend","name","functional","render","h","_ref","data","parent","replace","concat","OPTIONS_OBJECT_DEPRECATED_MSG","disabledField","htmlField","options","textField","valueField","formOptionsMixin","computed","formOptions","this","normalizeOptions","methods","normalizeOption","option","undefined","text","String","html","disabled","Boolean","_this","map","id","inline","novalidate","validated","BForm","children","class","attrs","_vm","_h","$createElement","_c","_self","staticClass","variant","domProps","_s","title","_e","on","$event","$emit","hideClose","staticRenderFns","BAvatar","type","default","component","_objectSpread2","BFormCheckboxGroup","mixins","provide","bvCheckGroup","isRadioGroup","formValidation","resetFormData","clearFormData","refFormObserver","ref","resetObserver","reset","getValidationState","dirty","fieldRequired","required","changed","valid","result","resetForm","nextTick","clearForm","BLANK_TEMPLATE","makeBlankImgSrc","width","height","color","src","encodeURIComponent","alt","blank","blankColor","block","center","fluid","fluidGrow","left","right","rounded","sizes","srcset","thumbnail","BImg","_class","align","join","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","s","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","bool","debounce","fn","wait","t","clearTimeout","setTimeout","arrayify","Array","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","findParent","condition","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","appendChild","getEventTarget","event","composedPath","path","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","test","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","minutes","setMinutes","j","l","m","month","n","u","unixMillSeconds","w","y","tokenRegex","toISOString","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","split","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","duration","DAY","getDefaultHours","hours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","input","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","updateValue","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","bind","requestAnimationFrame","calendarContainer","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","toString","changeYear","handler","ev","el","addEventListener","_handlers","removeEventListener","triggerChange","evt","prototype","call","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","body","ontouchstart","documentClick","capture","open","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","onBlur","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","_a","dateToCheck","enable","array","parsed","from","to","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","preventDefault","focusAndClose","ctrlKey","stopPropagation","elems","pluginElements","x","shiftKey","charAt","toLowerCase","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","formats","_enable","set","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","querySelector","l10ns","customPositionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","pageXOffset","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","a","b","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","toggle","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","inputType","mobileFormatStr","defaultValue","step","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","vnode","callback","margin","once","observer","visible","doneOnce","createObserver","stop","IntersectionObserver","root","rootMargin","threshold","_unused","context","$nextTick","observe","entries","entry","isIntersecting","intersectionRatio","disconnect","modifiers","mod","_prevModifiers","componentUpdated","_ref2","oldValue","unbind","VBVisible","args","module","exports","maxRows","noAutoShrink","noResize","rows","BFormTextarea","directives","heightInPx","computedStyle","styles","resize","computedRows","overflowY","computedMinRows","computedMaxRows","computedAttrs","safeId","form","autocomplete","readonly","plaintext","computedAriaInvalid","computedListeners","bvListeners","onInput","change","watch","localValue","setHeight","mounted","visibleCallback","computeHeight","$isServer","$el","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","minHeight","oldHeight","scrollHeight","contentRows","computedClass","BFormRadio","inject","bvGroup","computedLocalChecked","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","isCalendarOverlaySidebarActive","isEventHandlerSidebarActive","calendarOptions","clearEventData","removeEvent","addEvent","updateEvent","model","$$v","expression","extendStatics","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","create","__assign","__spreadArray","pack","ar","f","v","r","o","defaultProps","__k","__b","__e","__d","__c","__h","__v","base","g","__r","debounceRendering","__P","__n","ownerSVGElement","z","A","isArray","P","N","C","setProperty","cssText","T","I","contextType","__E","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","checked","unmount","componentWillUnmount","Consumer","Provider","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","__H","cancelAnimationFrame","E","isPureReactComponent","__f","Symbol","for","__u","__R","__O","pop","fallback","delete","revealOrder","size","Map","reverse","V","isReactComponent","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","multiple","$$typeof","Q","globalObj","globalThis","flushToDom","oldDebounceRendering","callbackQ","execCallbackSync","shift","FullCalendarVDom","Component","createRef","Fragment","createContext","createPortal","unmountComponentAtNode","_super","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","EventSourceApi","internalEventSource","dispatch","sourceId","refetch","sourceIds","isRefetch","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","_b","getElRoot","getRootNode","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","onClick","createAriaKeyboardAttrs","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","formatWithOrdinals","formatter","fallbackText","str","arg","index","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","milliseconds","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","defId","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","_i","a_1","item","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","sign","minute","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","direction","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","emitter","hasHandlers","trigger","jsEvent","view","viewApi","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","origEvent","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","off","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prev","next","prevYear","addYears","nextYear","today","gotoDate","zonedDateInput","incrementDate","deltaInput","settings","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","EventApi","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","point","rect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderBottom","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","parents","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","BaseComponent","setRef","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","tableCellShaded","buttonGroup","button","buttonActive","RenderHook","rootElRef","handleRootEl","elRef","hookProps","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","renderInnerContent","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","tryDrain","pause","scope","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","groupClassName","Toolbar","startContent","endContent","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","isHeightAuto","forPrint","viewContext","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","role","colSpan","extraDataAttrs","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","buildVDomHandler","vDomContent","$destroy","initVue","$mount","initialContent","FullCalendar","initData","internal","scopedSlotOptions","$scopedSlots","calendar","buildOptions","getApi","beforeUpdate","beforeDestroy","buildWatchers","suppliedOptions","watchers","deep","_loop_1","complexOptionName","GlobalVue","installed","install","Vue","use","namespaced","label","selectedCalendars","getters","mutations","SET_SELECTED_EVENTS","actions","fetchEvents","calendars","reject","axios","response","catch","post","rawName","_v","_m","checkAll","_l","useCalendarSidebar","store","commit","Ripple","BButton","BFormCheckbox","BFormGroup","require","setup","scopedSlots","_u","hide","eventLocal","handleSubmit","onSubmit","validationContext","$set","errors","$store","appConfig","isRTL","staticStyle","guestsOptions","avatar","useCalendarEventHandler","emit","resetEventLocal","eventData","BSidebar","BFormInput","vSelect","flatPickr","ValidationProvider","BFormInvalidFeedback","ValidationObserver","prop","Function","email","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","dayNumberId","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","isExpanded","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","DayGridSegHierarchy","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","slatCoverage","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","zIndex","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","OPTION_REFINERS","timeGrid","timeGridDay","timeGridWeek","ListViewHeaderRow","textId","cellId","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","userCalendar","toast","useToast","refCalendar","onMounted","calendarsColor","Business","Holiday","Personal","Family","ETC","blankEvent","guests","description","updateEventInCalendar","updatedEventData","propsToUpdate","extendedPropsToUpdate","ToastificationContent","existingEvent","removeEventInCalendar","eventId","grabEventDataFromEventApi","updatedEvent","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","calendarEvent","colorName","clickedEvent","sidebarToggle","droppedEvent","resizedEvent","CalendarSidebar","CalendarEventHandler","plain","formCustomMixin","custom","_watch","ROOT_ACTION_EVENT_NAME_REQUEST_STATE","ROOT_ACTION_EVENT_NAME_TOGGLE","ROOT_EVENT_NAME_STATE","ROOT_EVENT_NAME_SYNC_STATE","_makeModelMixin","modelMixin","mixin","modelProps","MODEL_PROP_NAME","MODEL_EVENT_NAME","ariaLabel","ariaLabelledby","backdrop","backdropVariant","bgVariant","bodyClass","closeLabel","footerClass","headerClass","lazy","noCloseOnBackdrop","noCloseOnEsc","noCloseOnRouteChange","noEnforceFocus","noHeader","noHeaderClose","noSlide","shadow","sidebarClass","textVariant","renderHeaderTitle","normalizeSlot","slotScope","renderHeaderClose","renderHeader","$content","$title","$close","renderBody","renderFooter","$footer","renderContent","$header","renderBackdrop","localShow","onBackdropClick","inheritAttrs","transitionProps","css","enterClass","enterActiveClass","enterToClass","leaveClass","leaveActiveClass","leaveToClass","$slots","hasNormalizedSlot","bvAttrs","emitState","fullPath","created","$_returnFocusEl","listenOnRoot","handleToggle","handleSync","activated","emitSync","emitOnRoot","_this2","onKeydown","onTopTrapFocus","tabables","$refs","enforceFocus","onBottomTrapFocus","onBeforeEnter","onAfterEnter","onAfterLeave","$sidebar","beforeEnter","afterEnter","afterLeave","$backdrop","noFade","$tabTrapTop","$tabTrapBottom","keydown","toStringTag","__esModule","validator","fp","getElem","fpInput","$on","$watch","watchDisabled","immediate","MODEL_PROP_NAME_INDETERMINATE","MODEL_EVENT_NAME_INDETERMINATE","isChecked","isRadio","setIndeterminate","computedLocalCheckedWatcher","$input","indeterminate","handleChange","_ref$target","uncheckedValue","localChecked","isGroup","_methods","buttonVariant","formRadioCheckMixin","hasFocus","isBtnMode","buttons","isPlain","isCustom","isSwitch","switches","switch","isInline","isRequired","computedName","groupName","computedForm","computedSize","computedState","computedButtonVariant","stateClass","handleFocus","$button","$label","SIZES","FONT_SIZE_SCALE","BADGE_FONT_SIZE_SCALE","computeSize","linkProps","badge","badgeLeft","badgeOffset","badgeTop","badgeVariant","buttonType","square","bvAvatarGroup","localSrc","computedVariant","computedRounded","fontStyle","fontSize","marginStyle","overlapScale","badgeStyle","onImgError","_class2","link","$badge","hasBadgeSlot","badgeText","componentData","PASS_DOWN_ATTRS","ariaInvalid","formRadioCheckGroupMixin","groupClasses","$attrs","optionComponent","$inputs"],"mappings":"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","file":"js/chunk-11e66af2.bc24efca.js","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../vue';\nimport { NAME_ICON } from '../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { RX_ICON_PREFIX } from '../constants/regex';\nimport { omit, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { pascalCase, trim } from '../utils/string';\nimport { BIconBlank } from './icons';\nimport { props as BVIconBaseProps } from './helpers/icon-base'; // --- Helper methods ---\n\nvar findIconComponent = function findIconComponent(ctx, iconName) {\n  if (!ctx) {\n    return null;\n  }\n\n  var components = (ctx.$options || {}).components;\n  var iconComponent = components[iconName];\n  return iconComponent || findIconComponent(ctx.$parent, iconName);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, omit(BVIconBaseProps, ['content', 'stacked'])), {}, {\n  icon: makeProp(PROP_TYPE_STRING),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_ICON); // --- Main component ---\n// Helper BIcon component\n// Requires the requested icon component to be installed\n// @vue/component\n\nexport var BIcon = /*#__PURE__*/Vue.extend({\n  name: NAME_ICON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var data = _ref.data,\n        props = _ref.props,\n        parent = _ref.parent;\n    var icon = pascalCase(trim(props.icon || '')).replace(RX_ICON_PREFIX, ''); // If parent context exists, we check to see if the icon has been registered\n    // either locally in the parent component, or globally at the `$root` level\n    // If not registered, we render a blank icon\n\n    return h(icon ? findIconComponent(parent, \"BIcon\".concat(icon)) || BIconBlank : BIconBlank, mergeData(data, {\n      props: _objectSpread(_objectSpread({}, props), {}, {\n        icon: null\n      })\n    }));\n  }\n});","import { Vue } from '../vue';\nimport { PROP_TYPE_ARRAY_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { get } from '../utils/get';\nimport { stripTags } from '../utils/html';\nimport { isArray, isPlainObject, isUndefined } from '../utils/inspect';\nimport { keys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn'; // --- Constants ---\n\nvar OPTIONS_OBJECT_DEPRECATED_MSG = 'Setting prop \"options\" to an object is deprecated. Use the array format instead.'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabledField: makeProp(PROP_TYPE_STRING, 'disabled'),\n  htmlField: makeProp(PROP_TYPE_STRING, 'html'),\n  options: makeProp(PROP_TYPE_ARRAY_OBJECT, []),\n  textField: makeProp(PROP_TYPE_STRING, 'text'),\n  valueField: makeProp(PROP_TYPE_STRING, 'value')\n}, 'formOptionControls'); // --- Mixin ---\n// @vue/component\n\nexport var formOptionsMixin = Vue.extend({\n  props: props,\n  computed: {\n    formOptions: function formOptions() {\n      return this.normalizeOptions(this.options);\n    }\n  },\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: stripTags(String(isUndefined(text) ? key : text)),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: stripTags(String(option)),\n        disabled: false\n      };\n    },\n    normalizeOptions: function normalizeOptions(options) {\n      var _this = this;\n\n      // Normalize the given options array\n      if (isArray(options)) {\n        return options.map(function (option) {\n          return _this.normalizeOption(option);\n        });\n      } else if (isPlainObject(options)) {\n        // Deprecate the object options format\n        warn(OPTIONS_OBJECT_DEPRECATED_MSG, this.$options.name); // Normalize a `options` object to an array of options\n\n        return keys(options).map(function (key) {\n          return _this.normalizeOption(options[key] || {}, key);\n        });\n      } // If not an array or object, return an empty array\n\n      /* istanbul ignore next */\n\n\n      return [];\n    }\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  id: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  novalidate: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM); // --- Main component ---\n// @vue/component\n\nexport var BForm = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('form', mergeData(data, {\n      class: {\n        'form-inline': props.inline,\n        'was-validated': props.validated\n      },\n      attrs: {\n        id: props.id,\n        novalidate: props.novalidate\n      }\n    }), children);\n  }\n});","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastification\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('b-avatar',{staticClass:\"mr-75 flex-shrink-0\",attrs:{\"variant\":_vm.variant,\"size\":\"1.8rem\"}},[_c('feather-icon',{attrs:{\"icon\":_vm.icon,\"size\":\"15\"}})],1),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('div',[(_vm.title)?_c('h5',{staticClass:\"mb-0 font-weight-bolder toastification-title\",class:(\"text-\" + _vm.variant),domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),(_vm.text)?_c('small',{staticClass:\"d-inline-block text-body\",domProps:{\"textContent\":_vm._s(_vm.text)}}):_vm._e()]),_c('span',{staticClass:\"cursor-pointer toastification-close-icon ml-auto \",on:{\"click\":function($event){return _vm.$emit('close-toast')}}},[(!_vm.hideClose)?_c('feather-icon',{staticClass:\"text-body\",attrs:{\"icon\":\"XIcon\"}}):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"toastification\">\r\n    <div class=\"d-flex align-items-start\">\r\n      <b-avatar\r\n        :variant=\"variant\"\r\n        size=\"1.8rem\"\r\n        class=\"mr-75 flex-shrink-0\"\r\n      >\r\n        <feather-icon\r\n          :icon=\"icon\"\r\n          size=\"15\"\r\n        />\r\n      </b-avatar>\r\n      <div class=\"d-flex flex-grow-1\">\r\n        <div>\r\n          <h5\r\n            v-if=\"title\"\r\n            class=\"mb-0 font-weight-bolder toastification-title\"\r\n            :class=\"`text-${variant}`\"\r\n            v-text=\"title\"\r\n          />\r\n          <small\r\n            v-if=\"text\"\r\n            class=\"d-inline-block text-body\"\r\n            v-text=\"text\"\r\n          />\r\n        </div>\r\n        <span\r\n          class=\"cursor-pointer toastification-close-icon ml-auto \"\r\n          @click=\"$emit('close-toast')\"\r\n        >\r\n          <feather-icon\r\n            v-if=\"!hideClose\"\r\n            icon=\"XIcon\"\r\n            class=\"text-body\"\r\n          />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BAvatar } from 'bootstrap-vue'\r\n\r\nexport default {\r\n  components: {\r\n    BAvatar,\r\n  },\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: 'primary',\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    hideClose: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toastification-close-icon,\r\n.toastification-title {\r\n  line-height: 26px;\r\n}\r\n\r\n.toastification-title {\r\n  color: inherit;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToastificationContent.vue?vue&type=template&id=55dd3057&scoped=true&\"\nimport script from \"./ToastificationContent.vue?vue&type=script&lang=js&\"\nexport * from \"./ToastificationContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd3057\",\n  null\n  \n)\n\nexport default component.exports","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX_GROUP } from '../../constants/components';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_PROP_NAME, formRadioCheckGroupMixin, props as formRadioCheckGroupProps } from '../../mixins/form-radio-check-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckGroupProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME, makeProp(PROP_TYPE_ARRAY, [])), _defineProperty(_objectSpread2, \"switches\", makeProp(PROP_TYPE_BOOLEAN, false)), _objectSpread2))), NAME_FORM_CHECKBOX_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckboxGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX_GROUP,\n  // Includes render function\n  mixins: [formRadioCheckGroupMixin],\n  provide: function provide() {\n    return {\n      bvCheckGroup: this\n    };\n  },\n  props: props,\n  computed: {\n    isRadioGroup: function isRadioGroup() {\n      return false;\n    }\n  }\n});","import { ref, nextTick } from '@vue/composition-api'\r\n\r\n// ===========================================================\r\n// ! This is coupled with \"veeValidate\" plugin\r\n// ===========================================================\r\n\r\nexport default function formValidation(resetFormData, clearFormData = () => {}) {\r\n  // ------------------------------------------------\r\n  // refFormObserver\r\n  // ! This is for veeValidate Observer\r\n  // * Used for veeValidate form observer\r\n  // ------------------------------------------------\r\n  const refFormObserver = ref(null)\r\n\r\n  // ------------------------------------------------\r\n  // resetObserver\r\n  // ! This function is coupled with veeValidate\r\n  // * It resets form observer\r\n  // ------------------------------------------------\r\n  const resetObserver = () => {\r\n    refFormObserver.value.reset()\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // getValidationState\r\n  // ! This function is coupled with veeValidate\r\n  // * It returns true/false based on validation\r\n  // ------------------------------------------------\r\n  // eslint-disable-next-line object-curly-newline\r\n  const getValidationState = ({ dirty, validated, required: fieldRequired, changed, valid = null }) => {\r\n    const result = dirty || validated ? valid : null\r\n    return !fieldRequired && !changed ? null : result\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // resetForm\r\n  // ! This function is coupled with veeValidate\r\n  // * This uses resetFormData arg to reset form data\r\n  // ------------------------------------------------\r\n  const resetForm = () => {\r\n    resetFormData()\r\n    nextTick(() => {\r\n      resetObserver()\r\n    })\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // clearForm\r\n  // ! This function is coupled with veeValidate\r\n  // * This uses clearFormData arg to reset form data\r\n  // ------------------------------------------------\r\n  const clearForm = () => {\r\n    clearFormData()\r\n    nextTick(() => {\r\n      resetObserver()\r\n    })\r\n  }\r\n\r\n  return {\r\n    refFormObserver,\r\n    resetObserver,\r\n    getValidationState,\r\n    resetForm,\r\n    clearForm,\r\n  }\r\n}\r\n","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_IMG } from '../../constants/components';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { identity } from '../../utils/identity';\nimport { isString } from '../../utils/inspect';\nimport { toInteger } from '../../utils/number';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string'; // --- Constants --\n// Blank image with fill template\n\nvar BLANK_TEMPLATE = '<svg width=\"%{w}\" height=\"%{h}\" ' + 'xmlns=\"http://www.w3.org/2000/svg\" ' + 'viewBox=\"0 0 %{w} %{h}\" preserveAspectRatio=\"none\">' + '<rect width=\"100%\" height=\"100%\" style=\"fill:%{f};\"></rect>' + '</svg>'; // --- Helper methods ---\n\nvar makeBlankImgSrc = function makeBlankImgSrc(width, height, color) {\n  var src = encodeURIComponent(BLANK_TEMPLATE.replace('%{w}', toString(width)).replace('%{h}', toString(height)).replace('%{f}', color));\n  return \"data:image/svg+xml;charset=UTF-8,\".concat(src);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable({\n  alt: makeProp(PROP_TYPE_STRING),\n  blank: makeProp(PROP_TYPE_BOOLEAN, false),\n  blankColor: makeProp(PROP_TYPE_STRING, 'transparent'),\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  center: makeProp(PROP_TYPE_BOOLEAN, false),\n  fluid: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Gives fluid images class `w-100` to make them grow to fit container\n  fluidGrow: makeProp(PROP_TYPE_BOOLEAN, false),\n  height: makeProp(PROP_TYPE_NUMBER_STRING),\n  left: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Possible values:\n  //   `false`: no rounding of corners\n  //   `true`: slightly rounded corners\n  //   'top': top corners rounded\n  //   'right': right corners rounded\n  //   'bottom': bottom corners rounded\n  //   'left': left corners rounded\n  //   'circle': circle/oval\n  //   '0': force rounding off\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sizes: makeProp(PROP_TYPE_ARRAY_STRING),\n  src: makeProp(PROP_TYPE_STRING),\n  srcset: makeProp(PROP_TYPE_ARRAY_STRING),\n  thumbnail: makeProp(PROP_TYPE_BOOLEAN, false),\n  width: makeProp(PROP_TYPE_NUMBER_STRING)\n}, NAME_IMG); // --- Main component ---\n// @vue/component\n\nexport var BImg = /*#__PURE__*/Vue.extend({\n  name: NAME_IMG,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data;\n    var alt = props.alt,\n        src = props.src,\n        block = props.block,\n        fluidGrow = props.fluidGrow,\n        rounded = props.rounded;\n    var width = toInteger(props.width) || null;\n    var height = toInteger(props.height) || null;\n    var align = null;\n    var srcset = concat(props.srcset).filter(identity).join(',');\n    var sizes = concat(props.sizes).filter(identity).join(',');\n\n    if (props.blank) {\n      if (!height && width) {\n        height = width;\n      } else if (!width && height) {\n        width = height;\n      }\n\n      if (!width && !height) {\n        width = 1;\n        height = 1;\n      } // Make a blank SVG image\n\n\n      src = makeBlankImgSrc(width, height, props.blankColor || 'transparent'); // Disable srcset and sizes\n\n      srcset = null;\n      sizes = null;\n    }\n\n    if (props.left) {\n      align = 'float-left';\n    } else if (props.right) {\n      align = 'float-right';\n    } else if (props.center) {\n      align = 'mx-auto';\n      block = true;\n    }\n\n    return h('img', mergeData(data, {\n      attrs: {\n        src: src,\n        alt: alt,\n        width: width ? toString(width) : null,\n        height: height ? toString(height) : null,\n        srcset: srcset || null,\n        sizes: sizes || null\n      },\n      class: (_class = {\n        'img-thumbnail': props.thumbnail,\n        'img-fluid': props.fluid || fluidGrow,\n        'w-100': fluidGrow,\n        rounded: rounded === '' || rounded === true\n      }, _defineProperty(_class, \"rounded-\".concat(rounded), isString(rounded) && rounded !== ''), _defineProperty(_class, align, align), _defineProperty(_class, 'd-block', block), _class)\n    }));\n  }\n});","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=scss&\"","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","module.exports = __webpack_public_path__ + \"img/calendar-illustration.fcb4640f.png\";","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RADIO } from '../../constants/components';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formRadioCheckProps), formSizeProps), formStateProps)), NAME_FORM_RADIO); // --- Main component ---\n// @vue/component\n\nexport var BFormRadio = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO,\n  mixins: [idMixin, formRadioCheckMixin, // Includes shared render function\n  formControlMixin, formSizeMixin, formStateMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvRadioGroup',\n      default: false\n    }\n  },\n  props: props,\n  watch: {\n    computedLocalChecked: function computedLocalChecked(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    }\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-calendar overflow-hidden border\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\",class:{'show': _vm.isCalendarOverlaySidebarActive}},[_c('calendar-sidebar',{attrs:{\"is-event-handler-sidebar-active\":_vm.isEventHandlerSidebarActive},on:{\"update:isEventHandlerSidebarActive\":function($event){_vm.isEventHandlerSidebarActive=$event},\"update:is-event-handler-sidebar-active\":function($event){_vm.isEventHandlerSidebarActive=$event}}})],1),_c('div',{staticClass:\"col position-relative\"},[_c('div',{staticClass:\"card shadow-none border-0 mb-0 rounded-0\"},[_c('div',{staticClass:\"card-body pb-0\"},[_c('full-calendar',{ref:\"refCalendar\",staticClass:\"full-calendar\",attrs:{\"options\":_vm.calendarOptions}})],1)])]),_c('div',{staticClass:\"body-content-overlay\",class:{'show': _vm.isCalendarOverlaySidebarActive},on:{\"click\":function($event){_vm.isCalendarOverlaySidebarActive = false}}}),_c('calendar-event-handler',{attrs:{\"event\":_vm.event,\"clear-event-data\":_vm.clearEventData},on:{\"remove-event\":_vm.removeEvent,\"add-event\":_vm.addEvent,\"update-event\":_vm.updateEvent},model:{value:(_vm.isEventHandlerSidebarActive),callback:function ($$v) {_vm.isEventHandlerSidebarActive=$$v},expression:\"isEventHandlerSidebarActive\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return y(l,f,t,r,null)}function y(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?k(t):r,t.__h),z(u,t),t.__e!=r&&b(t)))})}function w(n,l,u,i,t,r,o,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,r,o,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function C(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||H(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||H(n,r,l[r],u[r],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?T:I,r):n.removeEventListener(l,r?T:I,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,r,o,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,r,o,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,r,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&k(i,0),c),null!=o)for(_=o.length;_--;)null!=o[_]&&h(o[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==y.value||_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&N(t[r],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!r&&t||i).__k=v(d,null,[u]),o||e,e,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,r,o,f=a({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,r||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{g(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as c,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as d,Fragment as v,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:d(d(n).map(t))},k={map:N,forEach:N,count:function(n){return n?d(n).length:0},only:function(n){var t=d(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:d},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=d(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=\"undefined\"!=typeof document,z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function B(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function H(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var Z=h.event;function Y(){}function $(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return Z&&(n=Z(n)),n.persist=Y,n.isPropagationStopped=$,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];V&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=d(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=d(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=j,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===j}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},cn=function(n,t){return n(t)},fn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:c,useDebugValue:f,version:\"17.0.2\",Children:k,render:B,hydrate:H,unmountComponentAtNode:un,createPortal:W,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:v,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:cn,unstable_batchedUpdates:ln,StrictMode:v,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{nn as version,k as Children,B as render,H as hydrate,un as unmountComponentAtNode,W as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,x as forwardRef,cn as flushSync,ln as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonHints: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.10.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","import axios from '@axios'\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    calendarOptions: [\r\n      {\r\n        color: 'danger',\r\n        label: 'Personal',\r\n      },\r\n      {\r\n        color: 'primary',\r\n        label: 'Business',\r\n      },\r\n      {\r\n        color: 'warning',\r\n        label: 'Family',\r\n      },\r\n      {\r\n        color: 'success',\r\n        label: 'Holiday',\r\n      },\r\n      {\r\n        color: 'info',\r\n        label: 'ETC',\r\n      },\r\n    ],\r\n    selectedCalendars: ['Personal', 'Business', 'Family', 'Holiday', 'ETC'],\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    SET_SELECTED_EVENTS(state, val) {\r\n      state.selectedCalendars = val\r\n    },\r\n  },\r\n  actions: {\r\n    fetchEvents(ctx, { calendars }) {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .get('/apps/calendar/events', {\r\n            params: {\r\n              calendars: calendars.join(','),\r\n            },\r\n          })\r\n          .then(response => resolve(response))\r\n          .catch(error => reject(error))\r\n      })\r\n    },\r\n    addEvent(ctx, { event }) {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .post('/apps/calendar/events', { event })\r\n          .then(response => resolve(response))\r\n          .catch(error => reject(error))\r\n      })\r\n    },\r\n    updateEvent(ctx, { event }) {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .post(`/apps/calendar/events/${event.id}`, { event })\r\n          .then(response => resolve(response))\r\n          .catch(error => reject(error))\r\n      })\r\n    },\r\n    removeEvent(ctx, { id }) {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .delete(`/apps/calendar/events/${id}`)\r\n          .then(response => resolve(response))\r\n          .catch(error => reject(error))\r\n      })\r\n    },\r\n  },\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\"},[_c('div',{staticClass:\"p-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"aria-controls\":\"sidebar-add-new-event\",\"aria-expanded\":String(_vm.isEventHandlerSidebarActive),\"variant\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.$emit('update:isEventHandlerSidebarActive', true)}}},[_vm._v(\" Add Event \")]),_c('div',{staticClass:\"mt-3\"},[_vm._m(0),_c('b-form-checkbox',{staticClass:\"mb-1\",model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\" View All \")]),_c('b-form-group',[_c('b-form-checkbox-group',{attrs:{\"name\":\"event-filter\",\"stacked\":\"\"},model:{value:(_vm.selectedCalendars),callback:function ($$v) {_vm.selectedCalendars=$$v},expression:\"selectedCalendars\"}},_vm._l((_vm.calendarOptions),function(item){return _c('b-form-checkbox',{key:item.label,staticClass:\"mb-1\",class:(\"custom-control-\" + (item.color)),attrs:{\"name\":\"event-filter\",\"value\":item.label}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1)],1)],1),_c('b-img',{attrs:{\"src\":require('@/assets/images/pages/calendar-illustration.png')}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"app-label section-label mb-1\"},[_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Calendars\")])])}]\n\nexport { render, staticRenderFns }","import store from '@/store'\r\n\r\nimport { computed } from '@vue/composition-api'\r\n\r\nexport default function useCalendarSidebar() {\r\n  // ------------------------------------------------\r\n  // calendarOptions\r\n  // ------------------------------------------------\r\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\r\n\r\n  // ------------------------------------------------\r\n  // selectedCalendars\r\n  // ------------------------------------------------\r\n  const selectedCalendars = computed({\r\n    get: () => store.state.calendar.selectedCalendars,\r\n    set: val => {\r\n      store.commit('calendar/SET_SELECTED_EVENTS', val)\r\n    },\r\n  })\r\n\r\n  // ------------------------------------------------\r\n  // checkAll\r\n  // ------------------------------------------------\r\n  const checkAll = computed({\r\n    /*\r\n      GET: Return boolean `true` => if length of options matches length of selected filters => Length matches when all events are selected\r\n      SET: If value is `true` => then add all available options in selected filters => Select All\r\n           Else if => all filters are selected (by checking length of both array) => Empty Selected array  => Deselect All\r\n    */\r\n    get: () => selectedCalendars.value.length === calendarOptions.value.length,\r\n    set: val => {\r\n      if (val) {\r\n        selectedCalendars.value = calendarOptions.value.map(i => i.label)\r\n      } else if (selectedCalendars.value.length === calendarOptions.value.length) {\r\n        selectedCalendars.value = []\r\n      }\r\n    },\r\n  })\r\n\r\n  return {\r\n    calendarOptions,\r\n    selectedCalendars,\r\n    checkAll,\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\">\r\n    <div class=\"p-2\">\r\n      <b-button\r\n        v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\r\n        aria-controls=\"sidebar-add-new-event\"\r\n        :aria-expanded=\"String(isEventHandlerSidebarActive)\"\r\n        variant=\"primary\"\r\n        block\r\n        @click=\"$emit('update:isEventHandlerSidebarActive', true)\"\r\n      >\r\n        Add Event\r\n      </b-button>\r\n      <div class=\"mt-3\">\r\n        <h5 class=\"app-label section-label mb-1\">\r\n          <span class=\"align-middle\">Calendars</span>\r\n        </h5>\r\n        <b-form-checkbox\r\n          v-model=\"checkAll\"\r\n          class=\"mb-1\"\r\n        >\r\n          View All\r\n        </b-form-checkbox>\r\n        <b-form-group>\r\n          <b-form-checkbox-group\r\n            v-model=\"selectedCalendars\"\r\n            name=\"event-filter\"\r\n            stacked\r\n          >\r\n            <b-form-checkbox\r\n              v-for=\"item in calendarOptions\"\r\n              :key=\"item.label\"\r\n              name=\"event-filter\"\r\n              :value=\"item.label\"\r\n              class=\"mb-1\"\r\n              :class=\"`custom-control-${item.color}`\"\r\n            >\r\n              {{ item.label }}\r\n            </b-form-checkbox>\r\n          </b-form-checkbox-group>\r\n        </b-form-group>\r\n      </div>\r\n    </div>\r\n    <b-img :src=\"require('@/assets/images/pages/calendar-illustration.png')\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BButton, BFormGroup, BFormCheckboxGroup, BFormCheckbox, BImg,\r\n} from 'bootstrap-vue'\r\nimport Ripple from 'vue-ripple-directive'\r\nimport useCalendarSidebar from './useCalendarSidebar'\r\n\r\nexport default {\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  components: {\r\n    BButton,\r\n    BImg,\r\n    BFormCheckbox,\r\n    BFormGroup,\r\n    BFormCheckboxGroup,\r\n  },\r\n  props: {\r\n    isEventHandlerSidebarActive: {\r\n      type: Boolean,\r\n      require: true,\r\n    },\r\n  },\r\n  setup() {\r\n    const {\r\n      calendarOptions,\r\n      selectedCalendars,\r\n      checkAll,\r\n    } = useCalendarSidebar()\r\n\r\n    return {\r\n      calendarOptions,\r\n      selectedCalendars,\r\n      checkAll,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarSidebar.vue?vue&type=template&id=b9db0c82&\"\nimport script from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-sidebar',{attrs:{\"id\":\"sidebar-add-new-event\",\"sidebar-class\":\"sidebar-lg\",\"visible\":_vm.isEventHandlerSidebarActive,\"bg-variant\":\"white\",\"shadow\":\"\",\"backdrop\":\"\",\"no-header\":\"\",\"right\":\"\"},on:{\"change\":function (val) { return _vm.$emit('update:is-event-handler-sidebar-active', val); }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('div',{staticClass:\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update': 'Add')+\" Event \")]),_c('div',[(_vm.eventLocal.id)?_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){_vm.$emit('remove-event'); hide();}}}):_vm._e(),_c('feather-icon',{staticClass:\"ml-1 cursor-pointer\",attrs:{\"icon\":\"XIcon\",\"size\":\"16\"},on:{\"click\":hide}})],1)]),_c('validation-observer',{ref:\"refFormObserver\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"p-2\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)},\"reset\":function($event){$event.preventDefault();return _vm.resetForm.apply(null, arguments)}}},[_c('validation-provider',{attrs:{\"name\":\"Title\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Title\",\"label-for\":\"event-title\"}},[_c('b-form-input',{attrs:{\"id\":\"event-title\",\"autofocus\":\"\",\"state\":_vm.getValidationState(validationContext),\"trim\":\"\",\"placeholder\":\"Event Title\"},model:{value:(_vm.eventLocal.title),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"title\", $$v)},expression:\"eventLocal.title\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Calendar\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Calendar\",\"label-for\":\"calendar\",\"state\":_vm.getValidationState(validationContext)}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"options\":_vm.calendarOptions,\"label\":\"label\",\"reduce\":function (calendar) { return calendar.label; },\"input-id\":\"calendar\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}},{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.calendar),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"calendar\", $$v)},expression:\"eventLocal.extendedProps.calendar\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Start Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Start Date\",\"label-for\":\"start-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.start),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"start\", $$v)},expression:\"eventLocal.start\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"End Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"End Date\",\"label-for\":\"end-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.end),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"end\", $$v)},expression:\"eventLocal.end\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\",\"inline\":\"\"},model:{value:(_vm.eventLocal.allDay),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"allDay\", $$v)},expression:\"eventLocal.allDay\"}},[_vm._v(\" All Day \")])],1),_c('validation-provider',{attrs:{\"name\":\"Event URL\",\"rules\":\"url\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Event URL\",\"label-for\":\"event-url\"}},[_c('b-form-input',{attrs:{\"id\":\"event-url\",\"type\":\"url\",\"state\":_vm.getValidationState(validationContext),\"placeholder\":\"htttps://www.google.com\",\"trim\":\"\"},model:{value:(_vm.eventLocal.eventUrl),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"eventUrl\", $$v)},expression:\"eventLocal.eventUrl\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',{attrs:{\"label\":\"Add Guests\",\"label-for\":\"add-guests\"}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"multiple\":\"\",\"close-on-select\":false,\"options\":_vm.guestsOptions,\"label\":\"name\",\"input-id\":\"add-guests\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}},{key:\"selected-option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{staticClass:\"border border-white\",attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.guests),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"guests\", $$v)},expression:\"eventLocal.extendedProps.guests\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Location\",\"label-for\":\"event-location\"}},[_c('b-form-input',{attrs:{\"id\":\"event-location\",\"trim\":\"\",\"placeholder\":\"Event Location\"},model:{value:(_vm.eventLocal.extendedProps.location),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"location\", $$v)},expression:\"eventLocal.extendedProps.location\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Description\",\"label-for\":\"event-description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"event-description\"},model:{value:(_vm.eventLocal.extendedProps.description),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"description\", $$v)},expression:\"eventLocal.extendedProps.description\"}})],1),_c('div',{staticClass:\"d-flex mt-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update' : 'Add ')+\" \")]),_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(186, 191, 199, 0.15)'),expression:\"'rgba(186, 191, 199, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"type\":\"reset\",\"variant\":\"outline-secondary\"}},[_vm._v(\" Reset \")])],1)],1)]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ref, computed, watch } from '@vue/composition-api'\r\nimport store from '@/store'\r\n\r\nexport default function useCalendarEventHandler(props, clearForm, emit) {\r\n  // ------------------------------------------------\r\n  // eventLocal\r\n  // ------------------------------------------------\r\n  const eventLocal = ref(JSON.parse(JSON.stringify(props.event.value)))\r\n  const resetEventLocal = () => {\r\n    eventLocal.value = JSON.parse(JSON.stringify(props.event.value))\r\n  }\r\n  watch(props.event, () => {\r\n    resetEventLocal()\r\n  })\r\n\r\n  // ------------------------------------------------\r\n  // isEventHandlerSidebarActive\r\n  // * Clear form if sidebar is closed\r\n  // ------------------------------------------------\r\n  watch(props.isEventHandlerSidebarActive, val => {\r\n    // ? Don't reset event till transition is finished\r\n    if (!val) {\r\n      setTimeout(() => {\r\n        clearForm.value()\r\n      }, 350)\r\n    }\r\n  })\r\n  // ------------------------------------------------\r\n  // calendarOptions\r\n  // ------------------------------------------------\r\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\r\n\r\n  const onSubmit = () => {\r\n    const eventData = JSON.parse(JSON.stringify(eventLocal))\r\n\r\n    // * If event has id => Edit Event\r\n    // Emit event for add/update event\r\n    if (props.event.value.id) emit('update-event', eventData.value)\r\n    else emit('add-event', eventData.value)\r\n\r\n    // Close sidebar\r\n    emit('update:is-event-handler-sidebar-active', false)\r\n  }\r\n\r\n  // *===============================================---*\r\n  // *--------- UI ---------------------------------------*\r\n  // *===============================================---*\r\n\r\n  // ------------------------------------------------\r\n  // guestOptions\r\n  // ------------------------------------------------\r\n\r\n  /* eslint-disable global-require */\r\n  const guestsOptions = [\r\n    { avatar: require('@/assets/images/avatars/1-small.png'), name: 'Jane Foster' },\r\n    { avatar: require('@/assets/images/avatars/3-small.png'), name: 'Donna Frank' },\r\n    { avatar: require('@/assets/images/avatars/5-small.png'), name: 'Gabrielle Robertson' },\r\n    { avatar: require('@/assets/images/avatars/7-small.png'), name: 'Lori Spears' },\r\n    { avatar: require('@/assets/images/avatars/9-small.png'), name: 'Sandy Vega' },\r\n    { avatar: require('@/assets/images/avatars/11-small.png'), name: 'Cheryl May' },\r\n  ]\r\n  /* eslint-enable global-require */\r\n\r\n  return {\r\n    eventLocal,\r\n    resetEventLocal,\r\n    calendarOptions,\r\n\r\n    // UI\r\n    guestsOptions,\r\n    onSubmit,\r\n  }\r\n}\r\n","<template>\r\n  <div>\r\n    <b-sidebar\r\n      id=\"sidebar-add-new-event\"\r\n      sidebar-class=\"sidebar-lg\"\r\n      :visible=\"isEventHandlerSidebarActive\"\r\n      bg-variant=\"white\"\r\n      shadow\r\n      backdrop\r\n      no-header\r\n      right\r\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\r\n    >\r\n      <template #default=\"{ hide }\">\r\n        <!-- Header -->\r\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\r\n          <h5 class=\"mb-0\">\r\n            {{ eventLocal.id ? 'Update': 'Add' }} Event\r\n          </h5>\r\n          <div>\r\n            <feather-icon\r\n              v-if=\"eventLocal.id\"\r\n              icon=\"TrashIcon\"\r\n              class=\"cursor-pointer\"\r\n              @click=\"$emit('remove-event'); hide();\"\r\n            />\r\n            <feather-icon\r\n              class=\"ml-1 cursor-pointer\"\r\n              icon=\"XIcon\"\r\n              size=\"16\"\r\n              @click=\"hide\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Body -->\r\n        <validation-observer\r\n          #default=\"{ handleSubmit }\"\r\n          ref=\"refFormObserver\"\r\n        >\r\n\r\n          <!-- Form -->\r\n          <b-form\r\n            class=\"p-2\"\r\n            @submit.prevent=\"handleSubmit(onSubmit)\"\r\n            @reset.prevent=\"resetForm\"\r\n          >\r\n\r\n            <!-- Title -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Title\"\r\n              rules=\"required\"\r\n            >\r\n              <b-form-group\r\n                label=\"Title\"\r\n                label-for=\"event-title\"\r\n              >\r\n                <b-form-input\r\n                  id=\"event-title\"\r\n                  v-model=\"eventLocal.title\"\r\n                  autofocus\r\n                  :state=\"getValidationState(validationContext)\"\r\n                  trim\r\n                  placeholder=\"Event Title\"\r\n                />\r\n\r\n                <b-form-invalid-feedback>\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- Calendar -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Calendar\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Calendar\"\r\n                label-for=\"calendar\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <v-select\r\n                  v-model=\"eventLocal.extendedProps.calendar\"\r\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n                  :options=\"calendarOptions\"\r\n                  label=\"label\"\r\n                  :reduce=\"calendar => calendar.label\"\r\n                  input-id=\"calendar\"\r\n                >\r\n\r\n                  <template #option=\"{ color, label }\">\r\n                    <div\r\n                      class=\"rounded-circle d-inline-block mr-50\"\r\n                      :class=\"`bg-${color}`\"\r\n                      style=\"height:10px;width:10px\"\r\n                    />\r\n                    <span> {{ label }}</span>\r\n                  </template>\r\n\r\n                  <template #selected-option=\"{ color, label }\">\r\n                    <div\r\n                      class=\"rounded-circle d-inline-block mr-50\"\r\n                      :class=\"`bg-${color}`\"\r\n                      style=\"height:10px;width:10px\"\r\n                    />\r\n                    <span> {{ label }}</span>\r\n                  </template>\r\n                </v-select>\r\n\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- Start Date -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Start Date\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Start Date\"\r\n                label-for=\"start-date\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <flat-pickr\r\n                  v-model=\"eventLocal.start\"\r\n                  class=\"form-control\"\r\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- End Date -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"End Date\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"End Date\"\r\n                label-for=\"end-date\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <flat-pickr\r\n                  v-model=\"eventLocal.end\"\r\n                  class=\"form-control\"\r\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- All Day -->\r\n            <b-form-group>\r\n              <b-form-checkbox\r\n                v-model=\"eventLocal.allDay\"\r\n                name=\"check-button\"\r\n                switch\r\n                inline\r\n              >\r\n                All Day\r\n              </b-form-checkbox>\r\n            </b-form-group>\r\n\r\n            <!-- Event URL -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Event URL\"\r\n              rules=\"url\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Event URL\"\r\n                label-for=\"event-url\"\r\n              >\r\n                <b-form-input\r\n                  id=\"event-url\"\r\n                  v-model=\"eventLocal.eventUrl\"\r\n                  type=\"url\"\r\n                  :state=\"getValidationState(validationContext)\"\r\n                  placeholder=\"htttps://www.google.com\"\r\n                  trim\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- Guests -->\r\n            <b-form-group\r\n              label=\"Add Guests\"\r\n              label-for=\"add-guests\"\r\n            >\r\n              <v-select\r\n                v-model=\"eventLocal.extendedProps.guests\"\r\n                :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n                multiple\r\n                :close-on-select=\"false\"\r\n                :options=\"guestsOptions\"\r\n                label=\"name\"\r\n                input-id=\"add-guests\"\r\n              >\r\n\r\n                <template #option=\"{ avatar, name }\">\r\n                  <b-avatar\r\n                    size=\"sm\"\r\n                    :src=\"avatar\"\r\n                  />\r\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\r\n                </template>\r\n\r\n                <template #selected-option=\"{ avatar, name }\">\r\n                  <b-avatar\r\n                    size=\"sm\"\r\n                    class=\"border border-white\"\r\n                    :src=\"avatar\"\r\n                  />\r\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\r\n                </template>\r\n              </v-select>\r\n            </b-form-group>\r\n\r\n            <!-- Location -->\r\n            <b-form-group\r\n              label=\"Location\"\r\n              label-for=\"event-location\"\r\n            >\r\n              <b-form-input\r\n                id=\"event-location\"\r\n                v-model=\"eventLocal.extendedProps.location\"\r\n                trim\r\n                placeholder=\"Event Location\"\r\n              />\r\n            </b-form-group>\r\n\r\n            <!-- Textarea -->\r\n            <b-form-group\r\n              label=\"Description\"\r\n              label-for=\"event-description\"\r\n            >\r\n              <b-form-textarea\r\n                id=\"event-description\"\r\n                v-model=\"eventLocal.extendedProps.description\"\r\n              />\r\n            </b-form-group>\r\n\r\n            <!-- Form Actions -->\r\n            <div class=\"d-flex mt-2\">\r\n              <b-button\r\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\r\n                variant=\"primary\"\r\n                class=\"mr-2\"\r\n                type=\"submit\"\r\n              >\r\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\r\n              </b-button>\r\n              <b-button\r\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\r\n                type=\"reset\"\r\n                variant=\"outline-secondary\"\r\n              >\r\n                Reset\r\n              </b-button>\r\n            </div>\r\n          </b-form>\r\n        </validation-observer>\r\n      </template>\r\n    </b-sidebar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\r\n} from 'bootstrap-vue'\r\nimport vSelect from 'vue-select'\r\nimport flatPickr from 'vue-flatpickr-component'\r\nimport Ripple from 'vue-ripple-directive'\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\r\nimport { required, email, url } from '@validations'\r\nimport formValidation from '@core/comp-functions/forms/form-validation'\r\nimport { ref, toRefs } from '@vue/composition-api'\r\nimport useCalendarEventHandler from './useCalendarEventHandler'\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BSidebar,\r\n    BForm,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormCheckbox,\r\n    BFormTextarea,\r\n    BAvatar,\r\n    vSelect,\r\n    flatPickr,\r\n    ValidationProvider,\r\n    BFormInvalidFeedback,\r\n    ValidationObserver,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  model: {\r\n    prop: 'isEventHandlerSidebarActive',\r\n    event: 'update:is-event-handler-sidebar-active',\r\n  },\r\n  props: {\r\n    isEventHandlerSidebarActive: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    event: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    clearEventData: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      required,\r\n      email,\r\n      url,\r\n    }\r\n  },\r\n  setup(props, { emit }) {\r\n    /*\r\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\r\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\r\n     * The Trick:\r\n\r\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\r\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\r\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. 😎\r\n\r\n     ? Behind The Scene\r\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\r\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\r\n    */\r\n    const clearFormData = ref(null)\r\n\r\n    const {\r\n      eventLocal,\r\n      resetEventLocal,\r\n      calendarOptions,\r\n\r\n      // UI\r\n      onSubmit,\r\n      guestsOptions,\r\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\r\n\r\n    const {\r\n      refFormObserver,\r\n      getValidationState,\r\n      resetForm,\r\n      clearForm,\r\n    } = formValidation(resetEventLocal, props.clearEventData)\r\n\r\n    clearFormData.value = clearForm\r\n\r\n    return {\r\n      // Add New Event\r\n      eventLocal,\r\n      calendarOptions,\r\n      onSubmit,\r\n      guestsOptions,\r\n\r\n      // Form Validation\r\n      resetForm,\r\n      refFormObserver,\r\n      getValidationState,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@core/scss/vue/libs/vue-select.scss';\r\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarEventHandler.vue?vue&type=template&id=56a81a94&\"\nimport script from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","// Full Calendar Plugins\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport timeGridPlugin from '@fullcalendar/timegrid'\r\nimport listPlugin from '@fullcalendar/list'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\n\r\n// Notification\r\nimport { useToast } from 'vue-toastification/composition'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\n\r\n// eslint-disable-next-line object-curly-newline\r\nimport { ref, computed, watch, onMounted } from '@vue/composition-api'\r\nimport store from '@/store'\r\n\r\nexport default function userCalendar() {\r\n  // Use toast\r\n  const toast = useToast()\r\n  // ------------------------------------------------\r\n  // refCalendar\r\n  // ------------------------------------------------\r\n  const refCalendar = ref(null)\r\n\r\n  // ------------------------------------------------\r\n  // calendarApi\r\n  // ------------------------------------------------\r\n  let calendarApi = null\r\n  onMounted(() => {\r\n    calendarApi = refCalendar.value.getApi()\r\n  })\r\n\r\n  // ------------------------------------------------\r\n  // calendars\r\n  // ------------------------------------------------\r\n  const calendarsColor = {\r\n    Business: 'primary',\r\n    Holiday: 'success',\r\n    Personal: 'danger',\r\n    Family: 'warning',\r\n    ETC: 'info',\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // event\r\n  // ------------------------------------------------\r\n  const blankEvent = {\r\n    title: '',\r\n    start: '',\r\n    end: '',\r\n    allDay: false,\r\n    url: '',\r\n    extendedProps: {\r\n      calendar: '',\r\n      guests: [],\r\n      location: '',\r\n      description: '',\r\n    },\r\n  }\r\n  const event = ref(JSON.parse(JSON.stringify(blankEvent)))\r\n  const clearEventData = () => {\r\n    event.value = JSON.parse(JSON.stringify(blankEvent))\r\n  }\r\n\r\n  // *===========================================================================---*\r\n  // *--------- Calendar API Function/Utils --------------------------------------------*\r\n  // Template Future Update: We might move this utils function in its own file\r\n  // *===========================================================================---*\r\n\r\n  // ------------------------------------------------\r\n  // (UI) addEventInCalendar\r\n  // ? This is useless because this just add event in calendar and not in our data\r\n  // * If we try to call it on new event then callback & try to toggle from calendar we get two events => One from UI and one from data\r\n  // ------------------------------------------------\r\n  // const addEventInCalendar = eventData => {\r\n  //   toast({\r\n  //     component: ToastificationContent,\r\n  //     position: 'bottom-right',\r\n  //     props: {\r\n  //       title: 'Event Added',\r\n  //       icon: 'CheckIcon',\r\n  //       variant: 'success',\r\n  //     },\r\n  //   })\r\n  //   calendarApi.addEvent(eventData)\r\n  // }\r\n\r\n  // ------------------------------------------------\r\n  // (UI) updateEventInCalendar\r\n  // ------------------------------------------------\r\n  const updateEventInCalendar = (updatedEventData, propsToUpdate, extendedPropsToUpdate) => {\r\n    toast({\r\n      component: ToastificationContent,\r\n      props: {\r\n        title: 'Event Updated',\r\n        icon: 'CheckIcon',\r\n        variant: 'success',\r\n      },\r\n    })\r\n\r\n    const existingEvent = calendarApi.getEventById(updatedEventData.id)\r\n\r\n    // --- Set event properties except date related ----- //\r\n    // ? Docs: https://fullcalendar.io/docs/Event-setProp\r\n    // dateRelatedProps => ['start', 'end', 'allDay']\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let index = 0; index < propsToUpdate.length; index++) {\r\n      const propName = propsToUpdate[index]\r\n      existingEvent.setProp(propName, updatedEventData[propName])\r\n    }\r\n\r\n    // --- Set date related props ----- //\r\n    // ? Docs: https://fullcalendar.io/docs/Event-setDates\r\n    existingEvent.setDates(updatedEventData.start, updatedEventData.end, { allDay: updatedEventData.allDay })\r\n\r\n    // --- Set event's extendedProps ----- //\r\n    // ? Docs: https://fullcalendar.io/docs/Event-setExtendedProp\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let index = 0; index < extendedPropsToUpdate.length; index++) {\r\n      const propName = extendedPropsToUpdate[index]\r\n      existingEvent.setExtendedProp(propName, updatedEventData.extendedProps[propName])\r\n    }\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // (UI) removeEventInCalendar\r\n  // ------------------------------------------------\r\n  const removeEventInCalendar = eventId => {\r\n    toast({\r\n      component: ToastificationContent,\r\n      props: {\r\n        title: 'Event Removed',\r\n        icon: 'TrashIcon',\r\n        variant: 'danger',\r\n      },\r\n    })\r\n    calendarApi.getEventById(eventId).remove()\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // grabEventDataFromEventApi\r\n  // ? It will return just event data from fullCalendar's EventApi which is not required for event mutations and other tasks\r\n  // ! You need to update below function as per your extendedProps\r\n  // ------------------------------------------------\r\n  const grabEventDataFromEventApi = eventApi => {\r\n    const {\r\n      id,\r\n      title,\r\n      start,\r\n      end,\r\n      // eslint-disable-next-line object-curly-newline\r\n      extendedProps: { calendar, guests, location, description },\r\n      allDay,\r\n    } = eventApi\r\n\r\n    return {\r\n      id,\r\n      title,\r\n      start,\r\n      end,\r\n      extendedProps: {\r\n        calendar,\r\n        guests,\r\n        location,\r\n        description,\r\n      },\r\n      allDay,\r\n    }\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // addEvent\r\n  // ------------------------------------------------\r\n  const addEvent = eventData => {\r\n    store.dispatch('calendar/addEvent', { event: eventData }).then(() => {\r\n      // eslint-disable-next-line no-use-before-define\r\n      refetchEvents()\r\n    })\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // updateEvent\r\n  // ------------------------------------------------\r\n  const updateEvent = eventData => {\r\n    store.dispatch('calendar/updateEvent', { event: eventData }).then(response => {\r\n      const updatedEvent = response.data.event\r\n\r\n      const propsToUpdate = ['id', 'title', 'url']\r\n      const extendedPropsToUpdate = ['calendar', 'guests', 'location', 'description']\r\n\r\n      updateEventInCalendar(updatedEvent, propsToUpdate, extendedPropsToUpdate)\r\n    })\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // removeEvent\r\n  // ------------------------------------------------\r\n  const removeEvent = () => {\r\n    const eventId = event.value.id\r\n    store.dispatch('calendar/removeEvent', { id: eventId }).then(() => {\r\n      removeEventInCalendar(eventId)\r\n    })\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // refetchEvents\r\n  // ------------------------------------------------\r\n  const refetchEvents = () => {\r\n    calendarApi.refetchEvents()\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // selectedCalendars\r\n  // ------------------------------------------------\r\n  const selectedCalendars = computed(() => store.state.calendar.selectedCalendars)\r\n\r\n  watch(selectedCalendars, () => {\r\n    refetchEvents()\r\n  })\r\n\r\n  // --------------------------------------------------------------------------------------------------\r\n  // AXIOS: fetchEvents\r\n  // * This will be called by fullCalendar to fetch events. Also this can be used to refetch events.\r\n  // --------------------------------------------------------------------------------------------------\r\n  const fetchEvents = (info, successCallback) => {\r\n    // If there's no info => Don't make useless API call\r\n    if (!info) return\r\n\r\n    // Fetch Events from API endpoint\r\n    store\r\n      .dispatch('calendar/fetchEvents', {\r\n        calendars: selectedCalendars.value,\r\n      })\r\n      .then(response => {\r\n        successCallback(response.data)\r\n      })\r\n      .catch(() => {\r\n        toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error fetching calendar events',\r\n            icon: 'AlertTriangleIcon',\r\n            variant: 'danger',\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  // ------------------------------------------------------------------------\r\n  // calendarOptions\r\n  // * This isn't considered in UI because this is the core of calendar app\r\n  // ------------------------------------------------------------------------\r\n  const calendarOptions = ref({\r\n    plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\r\n    initialView: 'dayGridMonth',\r\n    headerToolbar: {\r\n      start: 'sidebarToggle, prev,next, title',\r\n      end: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth',\r\n    },\r\n    events: fetchEvents,\r\n\r\n    /*\r\n      Enable dragging and resizing event\r\n      ? Docs: https://fullcalendar.io/docs/editable\r\n    */\r\n    editable: true,\r\n\r\n    /*\r\n      Enable resizing event from start\r\n      ? Docs: https://fullcalendar.io/docs/eventResizableFromStart\r\n    */\r\n    eventResizableFromStart: true,\r\n\r\n    /*\r\n      Automatically scroll the scroll-containers during event drag-and-drop and date selecting\r\n      ? Docs: https://fullcalendar.io/docs/dragScroll\r\n    */\r\n    dragScroll: true,\r\n\r\n    /*\r\n      Max number of events within a given day\r\n      ? Docs: https://fullcalendar.io/docs/dayMaxEvents\r\n    */\r\n    dayMaxEvents: 2,\r\n\r\n    /*\r\n      Determines if day names and week names are clickable\r\n      ? Docs: https://fullcalendar.io/docs/navLinks\r\n    */\r\n    navLinks: true,\r\n\r\n    eventClassNames({ event: calendarEvent }) {\r\n      // eslint-disable-next-line no-underscore-dangle\r\n      const colorName = calendarsColor[calendarEvent._def.extendedProps.calendar]\r\n\r\n      return [\r\n        // Background Color\r\n        `bg-light-${colorName}`,\r\n      ]\r\n    },\r\n    eventClick({ event: clickedEvent }) {\r\n      // * Only grab required field otherwise it goes in infinity loop\r\n      // ! Always grab all fields rendered by form (even if it get `undefined`) otherwise due to Vue3/Composition API you might get: \"object is not extensible\"\r\n      event.value = grabEventDataFromEventApi(clickedEvent)\r\n\r\n      // eslint-disable-next-line no-use-before-define\r\n      isEventHandlerSidebarActive.value = true\r\n    },\r\n\r\n    customButtons: {\r\n      sidebarToggle: {\r\n        // --- This dummy text actual icon rendering is handled using SCSS ----- //\r\n        text: 'sidebar',\r\n        click() {\r\n          // eslint-disable-next-line no-use-before-define\r\n          isCalendarOverlaySidebarActive.value = !isCalendarOverlaySidebarActive.value\r\n        },\r\n      },\r\n    },\r\n\r\n    dateClick(info) {\r\n      /*\r\n        ! Vue3 Change\r\n        Using Vue.set isn't working for now so we will try to check reactivity in Vue 3 as it can handle this automatically\r\n        ```\r\n        event.value.start = info.date\r\n        ```\r\n      */\r\n      event.value = JSON.parse(JSON.stringify(Object.assign(event.value, { start: info.date })))\r\n      // eslint-disable-next-line no-use-before-define\r\n      isEventHandlerSidebarActive.value = true\r\n    },\r\n\r\n    /*\r\n      Handle event drop (Also include dragged event)\r\n      ? Docs: https://fullcalendar.io/docs/eventDrop\r\n      ? We can use `eventDragStop` but it doesn't return updated event so we have to use `eventDrop` which returns updated event\r\n    */\r\n    eventDrop({ event: droppedEvent }) {\r\n      updateEvent(grabEventDataFromEventApi(droppedEvent))\r\n    },\r\n\r\n    /*\r\n      Handle event resize\r\n      ? Docs: https://fullcalendar.io/docs/eventResize\r\n    */\r\n    eventResize({ event: resizedEvent }) {\r\n      updateEvent(grabEventDataFromEventApi(resizedEvent))\r\n    },\r\n\r\n    // Get direction from app state (store)\r\n    direction: computed(() => (store.state.appConfig.isRTL ? 'rtl' : 'ltr')),\r\n    rerenderDelay: 350,\r\n  })\r\n\r\n  // ------------------------------------------------------------------------\r\n\r\n  // *===============================================---*\r\n  // *--------- UI ---------------------------------------*\r\n  // *===============================================---*\r\n\r\n  const isEventHandlerSidebarActive = ref(false)\r\n\r\n  const isCalendarOverlaySidebarActive = ref(false)\r\n\r\n  return {\r\n    refCalendar,\r\n    isCalendarOverlaySidebarActive,\r\n    calendarOptions,\r\n    event,\r\n    clearEventData,\r\n    addEvent,\r\n    updateEvent,\r\n    removeEvent,\r\n    refetchEvents,\r\n    fetchEvents,\r\n\r\n    // ----- UI ----- //\r\n    isEventHandlerSidebarActive,\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"app-calendar overflow-hidden border\">\r\n    <div class=\"row no-gutters\">\r\n      <!-- Sidebar -->\r\n      <div\r\n        class=\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\"\r\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\r\n      >\r\n        <calendar-sidebar :is-event-handler-sidebar-active.sync=\"isEventHandlerSidebarActive\" />\r\n      </div>\r\n\r\n      <!-- Calendar -->\r\n      <div class=\"col position-relative\">\r\n        <div class=\"card shadow-none border-0 mb-0 rounded-0\">\r\n          <div class=\"card-body pb-0\">\r\n            <full-calendar\r\n              ref=\"refCalendar\"\r\n              :options=\"calendarOptions\"\r\n              class=\"full-calendar\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Sidebar Overlay -->\r\n      <div\r\n        class=\"body-content-overlay\"\r\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\r\n        @click=\"isCalendarOverlaySidebarActive = false\"\r\n      />\r\n      <calendar-event-handler\r\n        v-model=\"isEventHandlerSidebarActive\"\r\n        :event=\"event\"\r\n        :clear-event-data=\"clearEventData\"\r\n        @remove-event=\"removeEvent\"\r\n        @add-event=\"addEvent\"\r\n        @update-event=\"updateEvent\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FullCalendar from '@fullcalendar/vue'\r\nimport store from '@/store'\r\nimport { onUnmounted } from '@vue/composition-api'\r\nimport calendarStoreModule from './calendarStoreModule'\r\nimport CalendarSidebar from './calendar-sidebar/CalendarSidebar.vue'\r\nimport CalendarEventHandler from './calendar-event-handler/CalendarEventHandler.vue'\r\nimport useCalendar from './useCalendar'\r\n\r\nexport default {\r\n  components: {\r\n    FullCalendar, // make the <FullCalendar> tag available\r\n    CalendarSidebar,\r\n    CalendarEventHandler,\r\n  },\r\n  setup() {\r\n    const CALENDAR_APP_STORE_MODULE_NAME = 'calendar'\r\n\r\n    // Register module\r\n    if (!store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.registerModule(CALENDAR_APP_STORE_MODULE_NAME, calendarStoreModule)\r\n\r\n    // UnRegister on leave\r\n    onUnmounted(() => {\r\n      if (store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.unregisterModule(CALENDAR_APP_STORE_MODULE_NAME)\r\n    })\r\n\r\n    const {\r\n      refCalendar,\r\n      isCalendarOverlaySidebarActive,\r\n      event,\r\n      clearEventData,\r\n      addEvent,\r\n      updateEvent,\r\n      removeEvent,\r\n      fetchEvents,\r\n      refetchEvents,\r\n      calendarOptions,\r\n\r\n      // ----- UI ----- //\r\n      isEventHandlerSidebarActive,\r\n    } = useCalendar()\r\n\r\n    fetchEvents()\r\n\r\n    return {\r\n      refCalendar,\r\n      isCalendarOverlaySidebarActive,\r\n      event,\r\n      clearEventData,\r\n      addEvent,\r\n      updateEvent,\r\n      removeEvent,\r\n      refetchEvents,\r\n      calendarOptions,\r\n\r\n      // ----- UI ----- //\r\n      isEventHandlerSidebarActive,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@core/scss/vue/apps/calendar.scss\";\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=3c333a1e&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN } from '../constants/props';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  plain: makeProp(PROP_TYPE_BOOLEAN, false)\n}, 'formControls'); // --- Mixin ---\n// @vue/component\n\nexport var formCustomMixin = Vue.extend({\n  props: props,\n  computed: {\n    custom: function custom() {\n      return !this.plain;\n    }\n  }\n});","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&lang=scss&scoped=true&\"","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_COLLAPSE, NAME_SIDEBAR } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_FOOTER, SLOT_NAME_HEADER, SLOT_NAME_HEADER_CLOSE, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { attemptFocus, contains, getActiveElement, getTabables } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName } from '../../utils/events';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconX } from '../../icons/icons';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar CLASS_NAME = 'b-sidebar';\nvar ROOT_ACTION_EVENT_NAME_REQUEST_STATE = getRootActionEventName(NAME_COLLAPSE, 'request-state');\nvar ROOT_ACTION_EVENT_NAME_TOGGLE = getRootActionEventName(NAME_COLLAPSE, 'toggle');\nvar ROOT_EVENT_NAME_STATE = getRootEventName(NAME_COLLAPSE, 'state');\nvar ROOT_EVENT_NAME_SYNC_STATE = getRootEventName(NAME_COLLAPSE, 'sync-state');\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // If `true`, shows a basic backdrop\n  backdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  backdropVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  bgVariant: makeProp(PROP_TYPE_STRING, 'light'),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // `aria-label` for close button\n  closeLabel: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnRouteChange: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  noSlide: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  shadow: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sidebarClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  title: makeProp(PROP_TYPE_STRING),\n  width: makeProp(PROP_TYPE_STRING),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING)\n})), NAME_SIDEBAR); // --- Render methods ---\n\nvar renderHeaderTitle = function renderHeaderTitle(h, ctx) {\n  // Render a empty `<span>` when to title was provided\n  var title = ctx.normalizeSlot(SLOT_NAME_TITLE, ctx.slotScope) || ctx.title;\n\n  if (!title) {\n    return h('span');\n  }\n\n  return h('strong', {\n    attrs: {\n      id: ctx.safeId('__title__')\n    }\n  }, [title]);\n};\n\nvar renderHeaderClose = function renderHeaderClose(h, ctx) {\n  if (ctx.noHeaderClose) {\n    return h();\n  }\n\n  var closeLabel = ctx.closeLabel,\n      textVariant = ctx.textVariant,\n      hide = ctx.hide;\n  return h(BButtonClose, {\n    props: {\n      ariaLabel: closeLabel,\n      textVariant: textVariant\n    },\n    on: {\n      click: hide\n    },\n    ref: 'close-button'\n  }, [ctx.normalizeSlot(SLOT_NAME_HEADER_CLOSE) || h(BIconX)]);\n};\n\nvar renderHeader = function renderHeader(h, ctx) {\n  if (ctx.noHeader) {\n    return h();\n  }\n\n  var $content = ctx.normalizeSlot(SLOT_NAME_HEADER, ctx.slotScope);\n\n  if (!$content) {\n    var $title = renderHeaderTitle(h, ctx);\n    var $close = renderHeaderClose(h, ctx);\n    $content = ctx.right ? [$close, $title] : [$title, $close];\n  }\n\n  return h('header', {\n    staticClass: \"\".concat(CLASS_NAME, \"-header\"),\n    class: ctx.headerClass,\n    key: 'header'\n  }, $content);\n};\n\nvar renderBody = function renderBody(h, ctx) {\n  return h('div', {\n    staticClass: \"\".concat(CLASS_NAME, \"-body\"),\n    class: ctx.bodyClass,\n    key: 'body'\n  }, [ctx.normalizeSlot(SLOT_NAME_DEFAULT, ctx.slotScope)]);\n};\n\nvar renderFooter = function renderFooter(h, ctx) {\n  var $footer = ctx.normalizeSlot(SLOT_NAME_FOOTER, ctx.slotScope);\n\n  if (!$footer) {\n    return h();\n  }\n\n  return h('footer', {\n    staticClass: \"\".concat(CLASS_NAME, \"-footer\"),\n    class: ctx.footerClass,\n    key: 'footer'\n  }, [$footer]);\n};\n\nvar renderContent = function renderContent(h, ctx) {\n  // We render the header even if `lazy` is enabled as it\n  // acts as the accessible label for the sidebar\n  var $header = renderHeader(h, ctx);\n\n  if (ctx.lazy && !ctx.isOpen) {\n    return $header;\n  }\n\n  return [$header, renderBody(h, ctx), renderFooter(h, ctx)];\n};\n\nvar renderBackdrop = function renderBackdrop(h, ctx) {\n  if (!ctx.backdrop) {\n    return h();\n  }\n\n  var backdropVariant = ctx.backdropVariant;\n  return h('div', {\n    directives: [{\n      name: 'show',\n      value: ctx.localShow\n    }],\n    staticClass: 'b-sidebar-backdrop',\n    class: _defineProperty({}, \"bg-\".concat(backdropVariant), backdropVariant),\n    on: {\n      click: ctx.onBackdropClick\n    }\n  });\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BSidebar = /*#__PURE__*/Vue.extend({\n  name: NAME_SIDEBAR,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    var visible = !!this[MODEL_PROP_NAME];\n    return {\n      // Internal `v-model` state\n      localShow: visible,\n      // For lazy render triggering\n      isOpen: visible\n    };\n  },\n  computed: {\n    transitionProps: function transitionProps() {\n      return this.noSlide ?\n      /* istanbul ignore next */\n      {\n        css: true\n      } : {\n        css: true,\n        enterClass: '',\n        enterActiveClass: 'slide',\n        enterToClass: 'show',\n        leaveClass: 'show',\n        leaveActiveClass: 'slide',\n        leaveToClass: ''\n      };\n    },\n    slotScope: function slotScope() {\n      var hide = this.hide,\n          right = this.right,\n          visible = this.localShow;\n      return {\n        hide: hide,\n        right: right,\n        visible: visible\n      };\n    },\n    hasTitle: function hasTitle() {\n      var $scopedSlots = this.$scopedSlots,\n          $slots = this.$slots;\n      return !this.noHeader && !this.hasNormalizedSlot(SLOT_NAME_HEADER) && !!(this.normalizeSlot(SLOT_NAME_TITLE, this.slotScope, $scopedSlots, $slots) || this.title);\n    },\n    titleId: function titleId() {\n      return this.hasTitle ? this.safeId('__title__') : null;\n    },\n    computedAttrs: function computedAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        tabindex: '-1',\n        role: 'dialog',\n        'aria-modal': this.backdrop ? 'true' : 'false',\n        'aria-hidden': this.localShow ? null : 'true',\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || this.titleId || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localShow = newValue;\n    }\n  }), _defineProperty(_watch, \"localShow\", function localShow(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.emitState(newValue);\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_watch, \"$route\", function $route() {\n    var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.noCloseOnRouteChange && newValue.fullPath !== oldValue.fullPath) {\n      this.hide();\n    }\n  }), _watch),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_returnFocusEl = null;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Add `$root` listeners\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_TOGGLE, this.handleToggle);\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REQUEST_STATE, this.handleSync); // Send out a gratuitous state event to ensure toggle button is synced\n\n    this.$nextTick(function () {\n      _this.emitState(_this.localShow);\n    });\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.emitSync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.localShow = false;\n    this.$_returnFocusEl = null;\n  },\n  methods: {\n    hide: function hide() {\n      this.localShow = false;\n    },\n    emitState: function emitState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_STATE, this.safeId(), state);\n    },\n    emitSync: function emitSync() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_SYNC_STATE, this.safeId(), state);\n    },\n    handleToggle: function handleToggle(id) {\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.localShow = !this.localShow;\n      }\n    },\n    handleSync: function handleSync(id) {\n      var _this2 = this;\n\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.$nextTick(function () {\n          _this2.emitSync(_this2.localShow);\n        });\n      }\n    },\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (!this.noCloseOnEsc && keyCode === CODE_ESC && this.localShow) {\n        this.hide();\n      }\n    },\n    onBackdropClick: function onBackdropClick() {\n      if (this.localShow && !this.noCloseOnBackdrop) {\n        this.hide();\n      }\n    },\n\n    /* istanbul ignore next */\n    onTopTrapFocus: function onTopTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables.reverse()[0]);\n    },\n\n    /* istanbul ignore next */\n    onBottomTrapFocus: function onBottomTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables[0]);\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      this.$_returnFocusEl = getActiveElement(IS_BROWSER ? [document.body] : []); // Trigger lazy render\n\n      this.isOpen = true;\n    },\n    onAfterEnter: function onAfterEnter(el) {\n      if (!contains(el, getActiveElement())) {\n        this.enforceFocus(el);\n      }\n\n      this.$emit(EVENT_NAME_SHOWN);\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.enforceFocus(this.$_returnFocusEl);\n      this.$_returnFocusEl = null; // Trigger lazy render\n\n      this.isOpen = false;\n      this.$emit(EVENT_NAME_HIDDEN);\n    },\n    enforceFocus: function enforceFocus(el) {\n      if (!this.noEnforceFocus) {\n        attemptFocus(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _ref;\n\n    var bgVariant = this.bgVariant,\n        width = this.width,\n        textVariant = this.textVariant,\n        localShow = this.localShow;\n    var shadow = this.shadow === '' ? true : this.shadow;\n    var $sidebar = h(this.tag, {\n      staticClass: CLASS_NAME,\n      class: [(_ref = {\n        shadow: shadow === true\n      }, _defineProperty(_ref, \"shadow-\".concat(shadow), shadow && shadow !== true), _defineProperty(_ref, \"\".concat(CLASS_NAME, \"-right\"), this.right), _defineProperty(_ref, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_ref, \"text-\".concat(textVariant), textVariant), _ref), this.sidebarClass],\n      style: {\n        width: width\n      },\n      attrs: this.computedAttrs,\n      directives: [{\n        name: 'show',\n        value: localShow\n      }],\n      ref: 'content'\n    }, [renderContent(h, this)]);\n    $sidebar = h('transition', {\n      props: this.transitionProps,\n      on: {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        afterLeave: this.onAfterLeave\n      }\n    }, [$sidebar]);\n    var $backdrop = h(BVTransition, {\n      props: {\n        noFade: this.noSlide\n      }\n    }, [renderBackdrop(h, this)]);\n    var $tabTrapTop = h();\n    var $tabTrapBottom = h();\n\n    if (this.backdrop && localShow) {\n      $tabTrapTop = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onTopTrapFocus\n        }\n      });\n      $tabTrapBottom = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onBottomTrapFocus\n        }\n      });\n    }\n\n    return h('div', {\n      staticClass: 'b-sidebar-outer',\n      style: {\n        zIndex: this.zIndex\n      },\n      attrs: {\n        tabindex: '-1'\n      },\n      on: {\n        keydown: this.onKeydown\n      }\n    }, [$tabTrapTop, $sidebar, $tabTrapBottom, $backdrop]);\n  }\n});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, MODEL_EVENT_NAME_PREFIX } from '../../constants/events';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { isArray } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { looseIndexOf } from '../../utils/loose-index-of';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check'; // --- Constants ---\n\nvar MODEL_PROP_NAME_INDETERMINATE = 'indeterminate';\nvar MODEL_EVENT_NAME_INDETERMINATE = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_INDETERMINATE; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME_INDETERMINATE, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"switch\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"uncheckedValue\", makeProp(PROP_TYPE_ANY, false)), _defineProperty(_objectSpread2, \"value\", makeProp(PROP_TYPE_ANY, true)), _objectSpread2))), NAME_FORM_CHECKBOX); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckbox = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX,\n  mixins: [formRadioCheckMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvCheckGroup',\n      default: null\n    }\n  },\n  props: props,\n  computed: {\n    isChecked: function isChecked() {\n      var value = this.value,\n          checked = this.computedLocalChecked;\n      return isArray(checked) ? looseIndexOf(checked, value) > -1 : looseEqual(checked, value);\n    },\n    isRadio: function isRadio() {\n      return false;\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME_INDETERMINATE, function (newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.setIndeterminate(newValue);\n    }\n  }),\n  mounted: function mounted() {\n    // Set initial indeterminate state\n    this.setIndeterminate(this[MODEL_PROP_NAME_INDETERMINATE]);\n  },\n  methods: {\n    computedLocalCheckedWatcher: function computedLocalCheckedWatcher(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n        var $input = this.$refs.input;\n\n        if ($input) {\n          this.$emit(MODEL_EVENT_NAME_INDETERMINATE, $input.indeterminate);\n        }\n      }\n    },\n    handleChange: function handleChange(_ref) {\n      var _this = this;\n\n      var _ref$target = _ref.target,\n          checked = _ref$target.checked,\n          indeterminate = _ref$target.indeterminate;\n      var value = this.value,\n          uncheckedValue = this.uncheckedValue; // Update `computedLocalChecked`\n\n      var localChecked = this.computedLocalChecked;\n\n      if (isArray(localChecked)) {\n        var index = looseIndexOf(localChecked, value);\n\n        if (checked && index < 0) {\n          // Add value to array\n          localChecked = localChecked.concat(value);\n        } else if (!checked && index > -1) {\n          // Remove value from array\n          localChecked = localChecked.slice(0, index).concat(localChecked.slice(index + 1));\n        }\n      } else {\n        localChecked = checked ? value : uncheckedValue;\n      }\n\n      this.computedLocalChecked = localChecked; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n      this.$nextTick(function () {\n        // Change is only emitted on user interaction\n        _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n        if (_this.isGroup) {\n          _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n        }\n\n        _this.$emit(MODEL_EVENT_NAME_INDETERMINATE, indeterminate);\n      });\n    },\n    setIndeterminate: function setIndeterminate(state) {\n      // Indeterminate only supported in single checkbox mode\n      if (isArray(this.computedLocalChecked)) {\n        state = false;\n      }\n\n      var $input = this.$refs.input;\n\n      if ($input) {\n        $input.indeterminate = state; // Emit update event to prop\n\n        this.$emit(MODEL_EVENT_NAME_INDETERMINATE, state);\n      }\n    }\n  }\n});","import { looseEqual } from './loose-equal'; // Assumes that the first argument is an array\n\nexport var looseIndexOf = function looseIndexOf(array, value) {\n  for (var i = 0; i < array.length; i++) {\n    if (looseEqual(array[i], value)) {\n      return i;\n    }\n  }\n\n  return -1;\n};","var _watch, _methods;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { EVENT_NAME_CHANGE } from '../constants/events';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { isBoolean } from '../utils/inspect';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { attrsMixin } from './attrs';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('checked', {\n  defaultValue: null\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // Only applicable in standalone mode (non group)\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  value: makeProp(PROP_TYPE_ANY)\n})), 'formRadioCheckControls'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckMixin = Vue.extend({\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this.isGroup ? this.bvGroup[MODEL_PROP_NAME] : this[MODEL_PROP_NAME],\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedLocalChecked: {\n      get: function get() {\n        return this.isGroup ? this.bvGroup.localChecked : this.localChecked;\n      },\n      set: function set(value) {\n        if (this.isGroup) {\n          this.bvGroup.localChecked = value;\n        } else {\n          this.localChecked = value;\n        }\n      }\n    },\n    isChecked: function isChecked() {\n      return looseEqual(this.value, this.computedLocalChecked);\n    },\n    isRadio: function isRadio() {\n      return true;\n    },\n    isGroup: function isGroup() {\n      // Is this check/radio a child of check-group or radio-group?\n      return !!this.bvGroup;\n    },\n    isBtnMode: function isBtnMode() {\n      // Support button style in single input mode\n      return this.isGroup ? this.bvGroup.buttons : this.button;\n    },\n    isPlain: function isPlain() {\n      return this.isBtnMode ? false : this.isGroup ? this.bvGroup.plain : this.plain;\n    },\n    isCustom: function isCustom() {\n      return this.isBtnMode ? false : !this.isPlain;\n    },\n    isSwitch: function isSwitch() {\n      // Custom switch styling (checkboxes only)\n      return this.isBtnMode || this.isRadio || this.isPlain ? false : this.isGroup ? this.bvGroup.switches : this.switch;\n    },\n    isInline: function isInline() {\n      return this.isGroup ? this.bvGroup.inline : this.inline;\n    },\n    isDisabled: function isDisabled() {\n      // Child can be disabled while parent isn't, but is always disabled if group is\n      return this.isGroup ? this.bvGroup.disabled || this.disabled : this.disabled;\n    },\n    isRequired: function isRequired() {\n      // Required only works when a name is provided for the input(s)\n      // Child can only be required when parent is\n      // Groups will always have a name (either user supplied or auto generated)\n      return this.computedName && (this.isGroup ? this.bvGroup.required : this.required);\n    },\n    computedName: function computedName() {\n      // Group name preferred over local name\n      return (this.isGroup ? this.bvGroup.groupName : this.name) || null;\n    },\n    computedForm: function computedForm() {\n      return (this.isGroup ? this.bvGroup.form : this.form) || null;\n    },\n    computedSize: function computedSize() {\n      return (this.isGroup ? this.bvGroup.size : this.size) || '';\n    },\n    computedState: function computedState() {\n      return this.isGroup ? this.bvGroup.computedState : isBoolean(this.state) ? this.state : null;\n    },\n    computedButtonVariant: function computedButtonVariant() {\n      // Local variant preferred over group variant\n      var buttonVariant = this.buttonVariant;\n\n      if (buttonVariant) {\n        return buttonVariant;\n      }\n\n      if (this.isGroup && this.bvGroup.buttonVariant) {\n        return this.bvGroup.buttonVariant;\n      }\n\n      return 'secondary';\n    },\n    buttonClasses: function buttonClasses() {\n      var _ref;\n\n      var computedSize = this.computedSize;\n      return ['btn', \"btn-\".concat(this.computedButtonVariant), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(computedSize), computedSize), _defineProperty(_ref, \"disabled\", this.isDisabled), _defineProperty(_ref, \"active\", this.isChecked), _defineProperty(_ref, \"focus\", this.hasFocus), _ref)];\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.isDisabled,\n          required = this.isRequired;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        type: this.isRadio ? 'radio' : 'checkbox',\n        name: this.computedName,\n        form: this.computedForm,\n        disabled: disabled,\n        required: required,\n        'aria-required': required || null,\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function () {\n    this[\"\".concat(MODEL_PROP_NAME, \"Watcher\")].apply(this, arguments);\n  }), _defineProperty(_watch, \"computedLocalChecked\", function computedLocalChecked() {\n    this.computedLocalCheckedWatcher.apply(this, arguments);\n  }), _watch),\n  methods: (_methods = {}, _defineProperty(_methods, \"\".concat(MODEL_PROP_NAME, \"Watcher\"), function Watcher(newValue) {\n    if (!looseEqual(newValue, this.computedLocalChecked)) {\n      this.computedLocalChecked = newValue;\n    }\n  }), _defineProperty(_methods, \"computedLocalCheckedWatcher\", function computedLocalCheckedWatcher(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_methods, \"handleChange\", function handleChange(_ref2) {\n    var _this = this;\n\n    var checked = _ref2.target.checked;\n    var value = this.value;\n    var localChecked = checked ? value : null;\n    this.computedLocalChecked = value; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n    this.$nextTick(function () {\n      // Change is only emitted on user interaction\n      _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n      if (_this.isGroup) {\n        _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n      }\n    });\n  }), _defineProperty(_methods, \"handleFocus\", function handleFocus(event) {\n    // When in buttons mode, we need to add 'focus' class to label when input focused\n    // As it is the hidden input which has actual focus\n    if (event.target) {\n      if (event.type === 'focus') {\n        this.hasFocus = true;\n      } else if (event.type === 'blur') {\n        this.hasFocus = false;\n      }\n    }\n  }), _defineProperty(_methods, \"focus\", function focus() {\n    if (!this.isDisabled) {\n      attemptFocus(this.$refs.input);\n    }\n  }), _defineProperty(_methods, \"blur\", function blur() {\n    if (!this.isDisabled) {\n      attemptBlur(this.$refs.input);\n    }\n  }), _methods),\n  render: function render(h) {\n    var isRadio = this.isRadio,\n        isBtnMode = this.isBtnMode,\n        isPlain = this.isPlain,\n        isCustom = this.isCustom,\n        isInline = this.isInline,\n        isSwitch = this.isSwitch,\n        computedSize = this.computedSize,\n        bvAttrs = this.bvAttrs;\n    var $content = this.normalizeSlot();\n    var $input = h('input', {\n      class: [{\n        'form-check-input': isPlain,\n        'custom-control-input': isCustom,\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n        'position-static': isPlain && !$content\n      }, isBtnMode ? '' : this.stateClass],\n      directives: [{\n        name: 'model',\n        value: this.computedLocalChecked\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.value,\n        checked: this.isChecked\n      },\n      on: _objectSpread({\n        change: this.handleChange\n      }, isBtnMode ? {\n        focus: this.handleFocus,\n        blur: this.handleFocus\n      } : {}),\n      key: 'input',\n      ref: 'input'\n    });\n\n    if (isBtnMode) {\n      var $button = h('label', {\n        class: this.buttonClasses\n      }, [$input, $content]);\n\n      if (!this.isGroup) {\n        // Standalone button mode, so wrap in 'btn-group-toggle'\n        // and flag it as inline-block to mimic regular buttons\n        $button = h('div', {\n          class: ['btn-group-toggle', 'd-inline-block']\n        }, [$button]);\n      }\n\n      return $button;\n    } // If no label content in plain mode we dont render the label\n    // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n\n\n    var $label = h();\n\n    if (!(isPlain && !$content)) {\n      $label = h('label', {\n        class: {\n          'form-check-label': isPlain,\n          'custom-control-label': isCustom\n        },\n        attrs: {\n          for: this.safeId()\n        }\n      }, $content);\n    }\n\n    return h('div', {\n      class: [_defineProperty({\n        'form-check': isPlain,\n        'form-check-inline': isPlain && isInline,\n        'custom-control': isCustom,\n        'custom-control-inline': isCustom && isInline,\n        'custom-checkbox': isCustom && !isRadio && !isSwitch,\n        'custom-switch': isSwitch,\n        'custom-radio': isCustom && isRadio\n      }, \"b-custom-control-\".concat(computedSize), computedSize && !isBtnMode), bvAttrs.class],\n      style: bvAttrs.style\n    }, [$input, $label]);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_AVATAR } from '../../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_IMG_ERROR } from '../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_BADGE } from '../../constants/slots';\nimport { isNumber, isNumeric, isString } from '../../utils/inspect';\nimport { toFloat } from '../../utils/number';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { isLink } from '../../utils/router';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIcon } from '../../icons/icon';\nimport { BIconPersonFill } from '../../icons/icons';\nimport { BButton } from '../button/button';\nimport { BLink, props as BLinkProps } from '../link/link'; // --- Constants ---\n\nvar CLASS_NAME = 'b-avatar';\nvar SIZES = ['sm', null, 'lg'];\nvar FONT_SIZE_SCALE = 0.4;\nvar BADGE_FONT_SIZE_SCALE = FONT_SIZE_SCALE * 0.7; // --- Helper methods ---\n\nexport var computeSize = function computeSize(value) {\n  // Parse to number when value is a float-like string\n  value = isString(value) && isNumeric(value) ? toFloat(value, 0) : value; // Convert all numbers to pixel values\n\n  return isNumber(value) ? \"\".concat(value, \"px\") : value || null;\n}; // --- Props ---\n\nvar linkProps = omit(BLinkProps, ['active', 'event', 'routerTag']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, linkProps), {}, {\n  alt: makeProp(PROP_TYPE_STRING, 'avatar'),\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  badge: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  badgeLeft: makeProp(PROP_TYPE_BOOLEAN, false),\n  badgeOffset: makeProp(PROP_TYPE_STRING),\n  badgeTop: makeProp(PROP_TYPE_BOOLEAN, false),\n  badgeVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonType: makeProp(PROP_TYPE_STRING, 'button'),\n  icon: makeProp(PROP_TYPE_STRING),\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  size: makeProp(PROP_TYPE_NUMBER_STRING),\n  square: makeProp(PROP_TYPE_BOOLEAN, false),\n  src: makeProp(PROP_TYPE_STRING),\n  text: makeProp(PROP_TYPE_STRING),\n  variant: makeProp(PROP_TYPE_STRING, 'secondary')\n})), NAME_AVATAR); // --- Main component ---\n// @vue/component\n\nexport var BAvatar = /*#__PURE__*/Vue.extend({\n  name: NAME_AVATAR,\n  mixins: [normalizeSlotMixin],\n  inject: {\n    bvAvatarGroup: {\n      default: null\n    }\n  },\n  props: props,\n  data: function data() {\n    return {\n      localSrc: this.src || null\n    };\n  },\n  computed: {\n    computedSize: function computedSize() {\n      // Always use the avatar group size\n      var bvAvatarGroup = this.bvAvatarGroup;\n      return computeSize(bvAvatarGroup ? bvAvatarGroup.size : this.size);\n    },\n    computedVariant: function computedVariant() {\n      var bvAvatarGroup = this.bvAvatarGroup;\n      return bvAvatarGroup && bvAvatarGroup.variant ? bvAvatarGroup.variant : this.variant;\n    },\n    computedRounded: function computedRounded() {\n      var bvAvatarGroup = this.bvAvatarGroup;\n      var square = bvAvatarGroup && bvAvatarGroup.square ? true : this.square;\n      var rounded = bvAvatarGroup && bvAvatarGroup.rounded ? bvAvatarGroup.rounded : this.rounded;\n      return square ? '0' : rounded === '' ? true : rounded || 'circle';\n    },\n    fontStyle: function fontStyle() {\n      var size = this.computedSize;\n      var fontSize = SIZES.indexOf(size) === -1 ? \"calc(\".concat(size, \" * \").concat(FONT_SIZE_SCALE, \")\") : null;\n      return fontSize ? {\n        fontSize: fontSize\n      } : {};\n    },\n    marginStyle: function marginStyle() {\n      var size = this.computedSize,\n          bvAvatarGroup = this.bvAvatarGroup;\n      var overlapScale = bvAvatarGroup ? bvAvatarGroup.overlapScale : 0;\n      var value = size && overlapScale ? \"calc(\".concat(size, \" * -\").concat(overlapScale, \")\") : null;\n      return value ? {\n        marginLeft: value,\n        marginRight: value\n      } : {};\n    },\n    badgeStyle: function badgeStyle() {\n      var size = this.computedSize,\n          badgeTop = this.badgeTop,\n          badgeLeft = this.badgeLeft,\n          badgeOffset = this.badgeOffset;\n      var offset = badgeOffset || '0px';\n      return {\n        fontSize: SIZES.indexOf(size) === -1 ? \"calc(\".concat(size, \" * \").concat(BADGE_FONT_SIZE_SCALE, \" )\") : null,\n        top: badgeTop ? offset : null,\n        bottom: badgeTop ? null : offset,\n        left: badgeLeft ? offset : null,\n        right: badgeLeft ? null : offset\n      };\n    }\n  },\n  watch: {\n    src: function src(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.localSrc = newValue || null;\n      }\n    }\n  },\n  methods: {\n    onImgError: function onImgError(event) {\n      this.localSrc = null;\n      this.$emit(EVENT_NAME_IMG_ERROR, event);\n    },\n    onClick: function onClick(event) {\n      this.$emit(EVENT_NAME_CLICK, event);\n    }\n  },\n  render: function render(h) {\n    var _class2;\n\n    var variant = this.computedVariant,\n        disabled = this.disabled,\n        rounded = this.computedRounded,\n        icon = this.icon,\n        src = this.localSrc,\n        text = this.text,\n        fontStyle = this.fontStyle,\n        marginStyle = this.marginStyle,\n        size = this.computedSize,\n        button = this.button,\n        type = this.buttonType,\n        badge = this.badge,\n        badgeVariant = this.badgeVariant,\n        badgeStyle = this.badgeStyle;\n    var link = !button && isLink(this);\n    var tag = button ? BButton : link ? BLink : 'span';\n    var alt = this.alt;\n    var ariaLabel = this.ariaLabel || null;\n    var $content = null;\n\n    if (this.hasNormalizedSlot()) {\n      // Default slot overrides props\n      $content = h('span', {\n        staticClass: 'b-avatar-custom'\n      }, [this.normalizeSlot()]);\n    } else if (src) {\n      $content = h('img', {\n        style: variant ? {} : {\n          width: '100%',\n          height: '100%'\n        },\n        attrs: {\n          src: src,\n          alt: alt\n        },\n        on: {\n          error: this.onImgError\n        }\n      });\n      $content = h('span', {\n        staticClass: 'b-avatar-img'\n      }, [$content]);\n    } else if (icon) {\n      $content = h(BIcon, {\n        props: {\n          icon: icon\n        },\n        attrs: {\n          'aria-hidden': 'true',\n          alt: alt\n        }\n      });\n    } else if (text) {\n      $content = h('span', {\n        staticClass: 'b-avatar-text',\n        style: fontStyle\n      }, [h('span', text)]);\n    } else {\n      // Fallback default avatar content\n      $content = h(BIconPersonFill, {\n        attrs: {\n          'aria-hidden': 'true',\n          alt: alt\n        }\n      });\n    }\n\n    var $badge = h();\n    var hasBadgeSlot = this.hasNormalizedSlot(SLOT_NAME_BADGE);\n\n    if (badge || badge === '' || hasBadgeSlot) {\n      var badgeText = badge === true ? '' : badge;\n      $badge = h('span', {\n        staticClass: 'b-avatar-badge',\n        class: _defineProperty({}, \"badge-\".concat(badgeVariant), badgeVariant),\n        style: badgeStyle\n      }, [hasBadgeSlot ? this.normalizeSlot(SLOT_NAME_BADGE) : badgeText]);\n    }\n\n    var componentData = {\n      staticClass: CLASS_NAME,\n      class: (_class2 = {}, _defineProperty(_class2, \"\".concat(CLASS_NAME, \"-\").concat(size), size && SIZES.indexOf(size) !== -1), _defineProperty(_class2, \"badge-\".concat(variant), !button && variant), _defineProperty(_class2, \"rounded\", rounded === true), _defineProperty(_class2, \"rounded-\".concat(rounded), rounded && rounded !== true), _defineProperty(_class2, \"disabled\", disabled), _class2),\n      style: _objectSpread(_objectSpread({}, marginStyle), {}, {\n        width: size,\n        height: size\n      }),\n      attrs: {\n        'aria-label': ariaLabel || null\n      },\n      props: button ? {\n        variant: variant,\n        disabled: disabled,\n        type: type\n      } : link ? pluckProps(linkProps, this) : {},\n      on: button || link ? {\n        click: this.onClick\n      } : {}\n    };\n    return h(tag, componentData, [$content, $badge]);\n  }\n});","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_FIRST } from '../constants/slots';\nimport { htmlOrText } from '../utils/html';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { omit, pick, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { BFormCheckbox } from '../components/form-checkbox/form-checkbox';\nimport { BFormRadio } from '../components/form-radio/form-radio';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formOptionsMixin, props as formOptionsProps } from './form-options';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n// Attributes to pass down to checks/radios instead of applying them to the group\n\nvar PASS_DOWN_ATTRS = ['aria-describedby', 'aria-labelledby'];\n\nvar _makeModelMixin = makeModelMixin('checked'),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formOptionsProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  // Render as button style\n  buttons: makeProp(PROP_TYPE_BOOLEAN, false),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formRadioCheckGroups'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckGroupMixin = Vue.extend({\n  mixins: [idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formOptionsMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    inline: function inline() {\n      return !this.stacked;\n    },\n    groupName: function groupName() {\n      // Checks/Radios tied to the same model must have the same name,\n      // especially for ARIA accessibility\n      return this.name || this.safeId();\n    },\n    groupClasses: function groupClasses() {\n      var inline = this.inline,\n          size = this.size,\n          validated = this.validated;\n      var classes = {\n        'was-validated': validated\n      };\n\n      if (this.buttons) {\n        classes = [classes, 'btn-group-toggle', _defineProperty({\n          'btn-group': inline,\n          'btn-group-vertical': !inline\n        }, \"btn-group-\".concat(size), size)];\n      }\n\n      return classes;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!looseEqual(newValue, this.localChecked)) {\n      this.localChecked = newValue;\n    }\n  }), _defineProperty(_watch, \"localChecked\", function localChecked(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _watch),\n  render: function render(h) {\n    var _this = this;\n\n    var isRadioGroup = this.isRadioGroup;\n    var attrs = pick(this.$attrs, PASS_DOWN_ATTRS);\n    var optionComponent = isRadioGroup ? BFormRadio : BFormCheckbox;\n    var $inputs = this.formOptions.map(function (option, index) {\n      var key = \"BV_option_\".concat(index);\n      return h(optionComponent, {\n        props: {\n          // Individual radios or checks can be disabled in a group\n          disabled: option.disabled || false,\n          id: _this.safeId(key),\n          value: option.value // We don't need to include these, since the input's will know they are inside here\n          // form: this.form || null,\n          // name: this.groupName,\n          // required: Boolean(this.name && this.required)\n\n        },\n        attrs: attrs,\n        key: key\n      }, [h('span', {\n        domProps: htmlOrText(option.html, option.text)\n      })]);\n    });\n    return h('div', {\n      class: [this.groupClasses, 'bv-no-focus-ring'],\n      attrs: _objectSpread(_objectSpread({}, omit(this.$attrs, PASS_DOWN_ATTRS)), {}, {\n        'aria-invalid': this.computedAriaInvalid,\n        'aria-required': this.required ? 'true' : null,\n        id: this.safeId(),\n        role: isRadioGroup ? 'radiogroup' : 'group',\n        // Add `tabindex=\"-1\"` to allow group to be focused if needed by screen readers\n        tabindex: '-1'\n      })\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $inputs, this.normalizeSlot()]);\n  }\n});"],"sourceRoot":""}